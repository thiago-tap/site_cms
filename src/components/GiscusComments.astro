---
interface Props {
  repo: string;
  repoId: string;
  category: string;
  categoryId: string;
}
const { repo, repoId, category, categoryId } = Astro.props;
const enabled = !!(repo && repoId && category && categoryId);
---

{enabled && (
  <div class="mt-14 pt-8 border-t border-zinc-800 not-prose">
    <h2 class="text-lg font-semibold text-zinc-200 mb-5">Coment√°rios</h2>
    <Fragment set:html={`
      <div class="giscus"></div>
      <script src="https://giscus.app/client.js"
        data-repo="${repo}"
        data-repo-id="${repoId}"
        data-category="${category}"
        data-category-id="${categoryId}"
        data-mapping="pathname"
        data-strict="0"
        data-reactions-enabled="1"
        data-emit-metadata="0"
        data-input-position="top"
        data-theme="dark_dimmed"
        data-lang="pt"
        crossorigin="anonymous"
        async>
      </script>
    `} />
  </div>
)}
